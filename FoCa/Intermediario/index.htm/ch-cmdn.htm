<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Guia Foca GNU/Linux - Comandos de rede</title>

</head>

<body>

<a name="ch-cmdn"></a>
<hr>

[ <a href="ch-cmdv.htm">anterior</a> ]
[ <a href="index.htm#contents">Conteúdo</a> ]
[ <a href="ch-intro.htm">1</a> ]
[ <a href="ch-bas.htm">2</a> ]
[ <a href="ch-hardw.htm">3</a> ]
[ <a href="ch-d-l.htm">4</a> ]
[ <a href="ch-disc.htm">5</a> ]
[ <a href="ch-boot.htm">6</a> ]
[ <a href="ch-run.htm">7</a> ]
[ <a href="ch-cmdd.htm">8</a> ]
[ <a href="ch-cmd.htm">9</a> ]
[ <a href="ch-cmdv.htm">10</a> ]
[ 11 ]
[ <a href="ch-cmdc.htm">12</a> ]
[ <a href="ch-perm.htm">13</a> ]
[ <a href="ch-redir.htm">14</a> ]
[ <a href="ch-rede.htm">15</a> ]
[ <a href="ch-kern.htm">16</a> ]
[ <a href="ch-log.htm">17</a> ]
[ <a href="ch-cpctd.htm">18</a> ]
[ <a href="ch-deb.htm">19</a> ]
[ <a href="ch-dpkg.htm">20</a> ]
[ <a href="ch-pers.htm">21</a> ]
[ <a href="ch-impr.htm">22</a> ]
[ <a href="ch-cfg.htm">23</a> ]
[ <a href="ch-tasks.htm">24</a> ]
[ <a href="ch-compil.htm">25</a> ]
[ <a href="ch-manut.htm">26</a> ]
[ <a href="ch-etc.htm">27</a> ]
[ <a href="ch-inter.htm">28</a> ]
[ <a href="ch-x11.htm">29</a> ]
[ <a href="ch-aplic.htm">30</a> ]
[ <a href="ch-ajuda.htm">31</a> ]
[ <a href="ch-apend.htm">32</a> ]
[ <a href="ch-cmdc.htm">próximo</a> ]

<hr>

<h1>
Guia Foca GNU/Linux
<br>Capítulo 11 - Comandos de rede
</h1>

<hr>

<p>
Este capítulo traz alguns comandos úteis para uso em rede e ambientes
multiusuário.

<hr>

<a name="s-cmdn-who"></a>
<h2>11.1 who</h2>

<p>
Mostra quem está atualmente conectado no computador.  Este comando lista os
nomes de usuários que estão conectados em seu computador, o terminal e data da
conexão.

<p>
<samp>who [<em>opções</em>]</samp>

<p>
onde:
<dl>
<dt><em>opções</em></dt>
<dt>-H, --heading</dt>
<dd>
Mostra o cabeçalho das colunas.
</dd>
<dt>-i, -u, --idle</dt>
<dd>
Mostra o tempo que o usuário está parado em Horas:Minutos.
</dd>
<dt>-m, i am</dt>
<dd>
Mostra o nome do computador e usuário associado ao nome.  É equivalente a
digitar <samp>who i am</samp> ou <samp>who am i</samp>.
</dd>
<dt>-q, --count</dt>
<dd>
Mostra o total de usuários conectados aos terminais.
</dd>
<dt>-T, -w, --mesg</dt>
<dd>
Mostra se o usuário pode receber mensagens via <code>talk</code> (conversação).
<ul>
<li>
+ O usuário recebe mensagens via talk
</li>
<li>
- O usuário não recebe mensagens via talk.
</li>
<li>
?  Não foi possível determinar o dispositivo de terminal onde o usuário está
conectado.
</li>
</ul>
</dd>
</dl>

<hr>

<a name="s-cmdn-telnet"></a>
<h2>11.2 Telnet</h2>

<p>
Permite acesso a um computador remoto.  É mostrada uma tela de acesso
correspondente ao computador local onde deve ser feita a autenticação do
usuário para entrar no sistema.  Muito útil, mas deve ser tomado cuidados ao
disponibilizar este serviço para evitar riscos de segurança.

<p>
<samp>telnet [<em>opções</em>] [<em>ip/dns</em>] [<em>porta</em>]</samp>

<p>
onde:
<dl>
<dt><em>ip/dns</em></dt>
<dd>
Endereço IP do computador de destino ou nome DNS.
</dd>
<dt><em>porta</em></dt>
<dd>
Porta onde será feita a conexão.  Por padrão, a conexão é feita na porta
<em>23</em>.
</dd>
<dt><em>opções</em></dt>
<dd>
<dl>
<dt>-8</dt>
<dd>
Requisita uma operação binária de 8 bits.  Isto força a operação em modo
binário para envio e recebimento.  Por padrão, <code>telnet</code> não usa 8
bits.
</dd>
<dt>-a</dt>
<dd>
Tenta um login automático, enviando o nome do usuário lido da variável de
ambiente <code>USER</code>.
</dd>
<dt>-d</dt>
<dd>
Ativa o modo de debug.
</dd>
<dt>-r</dt>
<dd>
Ativa a emulação de rlogin.
</dd>
<dt>-l [usuário]</dt>
<dd>
Faz a conexão usando [usuário] como nome de usuário.
</dd>
</dl>
</dd>
</dl>

<p>
Exemplo: <samp>telnet 192.168.1.1</samp>, <samp>telnet 192.168.1.1 23</samp>.

<hr>

<a name="s-cmdn-finger"></a>
<h2>11.3 finger</h2>

<p>
Mostra detalhes sobre os usuários de um sistema.  Algumas versões do
<code>finger</code> possuem bugs e podem significar um risco para a segurança
do sistema.  É recomendado desativar este serviço na máquina local.

<p>
<samp>finger [<em>usuário</em>] [<em>usuário@host</em>]</samp>

<p>
Onde:
<dl>
<dt><em>usuário</em></dt>
<dd>
Nome do usuário que deseja obter detalhes do sistema.  Se não for digitado o
nome de usuário, o sistema mostra detalhes de todos os usuários conectados no
momento.
</dd>
<dt><em>usuário@host</em></dt>
<dd>
Nome do usuário e endereço do computador que deseja obter detalhes.
</dd>
<dt>-l</dt>
<dd>
Mostra os detalhes de todos os usuários conectados no momento.  Entre os
detalhes, estão incluídos o <em>nome do interpretador de comandos</em> (shell)
do usuário, <em>diretório home</em>, <em>nome do usuário</em>,
<em>endereço</em>, etc.  Estes dados são lidos de <code>/etc/passwd</code>.
</dd>
<dt>-p</dt>
<dd>
Não exibe o conteúdo dos arquivos <code>.plan</code> e <code>.project</code>
</dd>
</dl>

<p>
Se for usado sem parâmetros, mostra os dados de todos os usuários conectados
atualmente ao seu sistema.

<p>
Exemplo: <samp>finger</samp>, <samp>finger root</samp>.

<hr>

<a name="s-cmdn-ftp"></a>
<h2>11.4 ftp</h2>

<p>
Permite a transferência de arquivos do computador remoto/local e vice versa.  O
file transfer protocol é o sistema de transmissão de arquivos mais usado na
Internet.  É requerida a autenticação do usuário para que seja permitida a
conexão.  Muitos servidores ftp disponibilizam acesso anônimo aos usuários, com
acesso restrito.

<p>
Uma vez conectado a um servidor <code>ftp</code>, você pode usar a maioria dos
comandos do <code>GNU/Linux</code> para operá-lo.

<p>
<samp>ftp [<em>ip/dns</em>]</samp>

<p>
Abaixo alguns dos comandos mais usados no FTP:
<dl>
<dt>ls</dt>
<dd>
Lista arquivos do diretório atual.
</dd>
<dt>cd [diretório]</dt>
<dd>
Entra em um diretório.
</dd>
<dt>get [arquivo]</dt>
<dd>
Copia um arquivo do servidor ftp para o computador local.  O arquivo é gravado,
por padrão, no diretório onde o programa ftp foi executado.
</dd>
<dt>hash [on/off]</dt>
<dd>
Por padrão esta opção está desligada.  Quando ligada, faz com que o caracter
&quot;#&quot; seja impresso na tela indicando o progresso do download.
</dd>
<dt>mget [arquivos]</dt>
<dd>
Semelhante ao get, mas pode copiar diversos arquivos e permite o uso de
curingas.
</dd>
<dt>send [arquivo]</dt>
<dd>
Envia um arquivo para o diretório atual do servidor FTP (você precisa de uma
conta com acesso a gravação para fazer isto).
</dd>
<dt>prompt [on/off]</dt>
<dd>
Ativa ou desativa a pergunta para a cópia de arquivo.  Se estiver como
<samp>off</samp> assume sim para qualquer pergunta.
</dd>
</dl>

<p>
Exemplo: <samp>ftp ftp.br.debian.org</samp>.

<hr>

<a name="s-cmdn-whoami"></a>
<h2>11.5 whoami</h2>

<p>
Mostra o nome que usou para se conectar ao sistema.  É útil quando você usa
várias contas e não sabe com qual nome entrou no sistema :-)

<p>
<samp>whoami</samp>

<hr>

<a name="s-cmdn-dnsdomainname"></a>
<h2>11.6 dnsdomainname</h2>

<p>
Mostra o nome do domínio de seu sistema.

<hr>

<a name="s-cmdn-hostname"></a>
<h2>11.7 hostname</h2>

<p>
Mostra ou muda o nome de seu computador na rede.

<hr>

<a name="s-cmdn-talk"></a>
<h2>11.8 talk</h2>

<p>
Inicia conversa com outro usuário em uma rede local ou Internet.  Talk é um
programa de conversação em tempo real onde uma pessoa vê o que a outra escreve.

<p>
<samp>talk [<em>usuário</em>] [<em>tty</em>]</samp>

<p>
ou

<p>
<samp>talk [<em>usuário@host</em>]</samp>

<p>
Onde:
<dl>
<dt><em>usuário</em></dt>
<dd>
Nome de login do usuário que deseja iniciar a conversação.  Este nome pode ser
obtido com o comando <code>who</code> (veja <a href="#s-cmdn-who">who, Seção
11.1</a>).
</dd>
<dt><em>tty</em></dt>
<dd>
O nome de terminal onde o usuário está conectado, para iniciar uma conexão
local.
</dd>
<dt><em>usuário@host</em></dt>
<dd>
Se o usuário que deseja conversar estiver conectado em um computador remoto,
você deve usar o nome do usuário@hosname do computador.
</dd>
</dl>

<p>
Após o <code>talk</code> ser iniciado, ele verificará se o usuário pode receber
mensagens, em caso positivo, ele enviará uma mensagem ao usuário dizendo como
responder ao seu pedido de conversa.  Veja <a href="#s-cmdn-who">who, Seção
11.1</a>.

<p>
Para poder fazer a rolagem para cima e para baixo no <code>talk</code>,
pressione <samp>CTRL+P</samp>(Previous - Tela anterior) e <samp>CTRL+N</samp>
(Next - Próxima tela).  Você deve ter o daemon do <code>talk</code> instalado
(<samp>talkd</samp>) para receber requisições de conversa.

<p>
Você deve autorizar o recebimento de talks de outros usuários para que eles
possam se comunicar com você , para detalhes veja o comando <a
href="ch-cmdv.htm#s-cmdv-mesg">mesg, Seção 10.19</a>.

<hr>

<a name="s-cmdn-ping"></a>
<h2>11.9 ping</h2>

<p>
Verifica se um computador está disponível na rede.  Este comando é muito
utilizado por alguns programas de conexão e administradores para verificar se
uma determinada máquina está conectada na rede e também para verificar o tempo
de resposta de cada máquina da rede.  O <code>ping</code> envia pacotes ICMS
ECHO_REQUEST para um computador, este quando recebe o pacote envia uma resposta
ao endereço de origem avisando que está disponível na rede.

<p>
<samp>ping [<em>opções</em>][<em>IP/DNS</em>]</samp>

<p>
onde:
<dl>
<dt><em>IP/dns</em></dt>
<dd>
Endereço IP ou nome DNS do endereço.
</dd>
<dt><em>opções</em></dt>
<dt>-c [num]</dt>
<dd>
Envia <em>num</em> pacotes ao computador de destino.
</dd>
<dt>-f</dt>
<dd>
<em>Flood ping</em>.  Envia novos pacotes antes de receber a resposta do pacote
anterior.  Para cada requisição enviada, um &quot;.&quot; é mostrado na tela e
para cada resposta recebida, um backspace é mostrado.  Somente o usuário root
pode utilizar esta opção e pode te auxiliar muito na detecção de erros de
transmissão de pacotes em interfaces das máquinas em sua rede.
</dd>
<dt>-i [seg]</dt>
<dd>
Aguarda [seg] segundos antes de enviar cada pacote.
</dd>
<dt>-q</dt>
<dd>
Não mostra as requisições enquanto são enviadas, somente mostra as linhas de
sumário no inicio e término do programa.
</dd>
<dt>-s [tamanho]</dt>
<dd>
Especifica o tamanho do pacote que será enviado.
</dd>
<dt>-v, --verbose</dt>
<dd>
Saída detalhada, tanto os pacotes enviados como recebidos são listados.
</dd>
</dl>

<p>
Exemplo: <samp>ping 192.168.1.1</samp>, <samp>ping www.br.debian.org</samp>.

<hr>

<a name="s-cmdn-rlogin"></a>
<h2>11.10 rlogin</h2>

<p>
Executa um login em uma máquina local ou remota.

<p>
<samp>rlogin [<em>opções</em>] [<em>IP/DNS</em>]</samp>

<p>
onde:
<dl>
<dt><em>IP/DNS</em></dt>
<dd>
Endereço IP ou DNS do computador que será acessado.
</dd>
<dt>opções</dt>
<dt>-l [nome]</dt>
<dd>
Entra com o user id [nome] no sistema.
</dd>
</dl>

<p>
<code>rlogin</code> é usado para executar comandos interativamente no
computador de destino (como se você estivesse sentado diante dele, muito
semelhante ao telnet).  Para executar comandos não interativamente veja <a
href="#s-cmdn-rsh">rsh, Seção 11.11</a>.

<hr>

<a name="s-cmdn-rsh"></a>
<h2>11.11 rsh</h2>

<p>
Executa um comando em um computador local ou remoto.

<p>
<samp>rsh [<em>opções</em>] [<em>IP/DNS</em>] [<em>comando</em>]</samp>

<p>
Onde:
<dl>
<dt><em>IP/DNS</em></dt>
<dd>
Endereço IP ou nome DNS do computador.
</dd>
<dt><em>comando</em></dt>
<dd>
Comando que será executado no computador local/remoto.
</dd>
<dt><em>opções</em></dt>
<dt>-l [nome]</dt>
<dd>
Entra no sistema usando o login [nome].
</dd>
</dl>

<p>
<code>rsh</code> é usado somente para executar comandos.  Para usar um shell
interativo veja <a href="#s-cmdn-telnet">Telnet, Seção 11.2</a> e <a
href="#s-cmdn-rlogin">rlogin, Seção 11.10</a>.

<hr>

<a name="s-cmdn-w"></a>
<h2>11.12 w</h2>

<p>
Mostra quem está conectado no sistema e o que cada um está fazendo.

<p>
<samp>w [<em>opções</em>][<em>usuário</em>]</samp>

<p>
onde:
<dl>
<dt><em>usuário</em></dt>
<dd>
Nome do usuário que deseja ver os detalhes.  Se o usuário não for digitado, o
comando <code>w</code> mostra detalhes de todos os usuários conectados no
sistema.
</dd>
<dt><em>opções</em></dt>
<dt>-h</dt>
<dd>
Não mostra o cabeçalho
</dd>
<dt>-u</dt>
<dd>
Ignora os nomes de usuários enquanto verifica os processo atuais e tempos de
CPU.
</dd>
<dt>-f</dt>
<dd>
Mostra ou oculta o campo <em>FROM</em> na listagem.
</dd>
</dl>

<hr>

<a name="s-cmdn-traceroute"></a>
<h2>11.13 traceroute</h2>

<p>
Mostra o caminho percorrido por um pacote para chegar ao seu destino.  Este
comando mostra na tela o caminho percorrido entre os Gateways da rede e o tempo
gasto de retransmissão.  Este comando é útil para encontrar computadores
defeituosos na rede caso o pacote não esteja chegando ao seu destino.

<p>
<samp>traceroute [<em>opções</em>] [<em>host/IP de destino</em>]</samp>

<p>
Onde:
<dl>
<dt><em>host/IP destino</em></dt>
<dd>
É o endereço para onde o pacote será enviado (por exemplo, www.debian.org).
Caso o tamanho do pacote não seja especificado, é enviado um pacote de 38
bytes.
</dd>
<dt><em>opções</em></dt>
<dt>-l</dt>
<dd>
Mostra o tempo de vida do pacote (ttl)
</dd>
<dt>-m [num]</dt>
<dd>
Ajusta a quantidade máximas de ttl dos pacotes.  O padrão é 30.
</dd>
<dt>-n</dt>
<dd>
Mostra os endereços numericamente ao invés de usar resolução DNS.
</dd>
<dt>-p [porta]</dt>
<dd>
Ajusta a porta que será usada para o teste.  A porta padrão é 33434.
</dd>
<dt>-r</dt>
<dd>
Pula as tabelas de roteamento e envia o pacote diretamente ao computador
conectado a rede.
</dd>
<dt>-s [end]</dt>
<dd>
Usa o endereço IP/DNS [end] como endereço de origem para computadores com
múltiplos endereços IPs ou nomes.
</dd>
<dt>-v</dt>
<dd>
Mostra mais detalhes sobre o resultado do <code>traceroute</code>.
</dd>
<dt>-w [num]</dt>
<dd>
Configura o tempo máximo que aguardará por uma resposta.  O padrão é 3
segundos.
</dd>
</dl>

<p>
Exemplos: <samp>traceroute www.debian.org</samp>, <samp>traceroute
www.linux.org</samp>.

<hr>

<a name="s-cmdn-netstat"></a>
<h2>11.14 netstat</h2>

<p>
Mostra conexões de rede, tabela de roteamento, estatísticas de interfaces,
conexões masquerade, e mensagens.

<p>
<samp>netstat [<em>opções</em>]</samp>

<p>
Onde:
<dl>
<dt><em>opções</em></dt>
<dt>-i [interface]</dt>
<dd>
Mostra estatísticas da interface [interface].
</dd>
<dt>-M, --masquerade</dt>
<dd>
Se especificado, também lista conexões masquerade.
</dd>
<dt>-n, --numeric</dt>
<dd>
Usa endereços numéricos ao invés de tentar resolver nomes de hosts, usuários e
portas.
</dd>
<dt>-c, --continuos</dt>
<dd>
Mostra a listagem a cada segundo até que a <samp>CTRL</samp>+<samp>C</samp>
seja pressionado.
</dd>
</dl>

<p>
Se não for especificada nenhuma opção, os detalhes das conexões atuais serão
mostrados.

<hr>

<a name="s-cmdv-wall"></a>
<h2>11.15 wall</h2>

<p>
Envia uma mensagem a todos os usuários do sistema.  Este comando faz a leitura
de um arquivo ou entrada padrão e escreve o resultado em todos os terminais
onde existem usuários conectados.  Somente o usuário root pode utilizar este
comando.

<p>
<samp>wall [<em>arquivo</em>]</samp>

<p>
Exemplos: <samp>wall /tmp/mensagem.txt</samp>, <samp>echo Teste de mensagem
enviada a todos os usuários conectados ao sistema|wall</samp>.

<hr>

[ <a href="ch-cmdv.htm">anterior</a> ]
[ <a href="index.htm#contents">Conteúdo</a> ]
[ <a href="ch-intro.htm">1</a> ]
[ <a href="ch-bas.htm">2</a> ]
[ <a href="ch-hardw.htm">3</a> ]
[ <a href="ch-d-l.htm">4</a> ]
[ <a href="ch-disc.htm">5</a> ]
[ <a href="ch-boot.htm">6</a> ]
[ <a href="ch-run.htm">7</a> ]
[ <a href="ch-cmdd.htm">8</a> ]
[ <a href="ch-cmd.htm">9</a> ]
[ <a href="ch-cmdv.htm">10</a> ]
[ 11 ]
[ <a href="ch-cmdc.htm">12</a> ]
[ <a href="ch-perm.htm">13</a> ]
[ <a href="ch-redir.htm">14</a> ]
[ <a href="ch-rede.htm">15</a> ]
[ <a href="ch-kern.htm">16</a> ]
[ <a href="ch-log.htm">17</a> ]
[ <a href="ch-cpctd.htm">18</a> ]
[ <a href="ch-deb.htm">19</a> ]
[ <a href="ch-dpkg.htm">20</a> ]
[ <a href="ch-pers.htm">21</a> ]
[ <a href="ch-impr.htm">22</a> ]
[ <a href="ch-cfg.htm">23</a> ]
[ <a href="ch-tasks.htm">24</a> ]
[ <a href="ch-compil.htm">25</a> ]
[ <a href="ch-manut.htm">26</a> ]
[ <a href="ch-etc.htm">27</a> ]
[ <a href="ch-inter.htm">28</a> ]
[ <a href="ch-x11.htm">29</a> ]
[ <a href="ch-aplic.htm">30</a> ]
[ <a href="ch-ajuda.htm">31</a> ]
[ <a href="ch-apend.htm">32</a> ]
[ <a href="ch-cmdc.htm">próximo</a> ]

<hr>

<p>
Guia Foca GNU/Linux

<address>
Versão 5.45 - segunda, 30 de outubro de 2006<br>
<br>
Gleydson Mazioli da Silva <code><a href="mailto:gleydson@guiafoca.org">gleydson@guiafoca.org</a></code><br>
<br>
</address>

<hr>

</body>

</html>

