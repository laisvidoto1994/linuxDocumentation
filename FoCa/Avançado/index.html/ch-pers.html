<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Guia Foca GNU/Linux - Personalização do Sistema</title>

</head>

<body>

<a name="ch-pers"></a>
<hr>

[ <a href="ch-deb.html">anterior</a> ]
[ <a href="index.html#contents">Conteúdo</a> ]
[ <a href="ch-intro.html">1</a> ]
[ <a href="ch-bas.html">2</a> ]
[ <a href="ch-hardw.html">3</a> ]
[ <a href="ch-rede.html">4</a> ]
[ <a href="ch-cfgrede.html">5</a> ]
[ <a href="ch-log.html">6</a> ]
[ <a href="ch-deb.html">7</a> ]
[ 8 ]
[ <a href="ch-impr.html">9</a> ]
[ <a href="ch-fw-iptables.html">10</a> ]
[ <a href="ch-d-contas.html">11</a> ]
[ <a href="ch-s-apache.html">12</a> ]
[ <a href="ch-s-ident.html">13</a> ]
[ <a href="ch-s-telnet.html">14</a> ]
[ <a href="ch-s-ssh.html">15</a> ]
[ <a href="ch-s-pop3.html">16</a> ]
[ <a href="ch-s-cvs.html">17</a> ]
[ <a href="ch-s-samba.html">18</a> ]
[ <a href="ch-d-restr.html">19</a> ]
[ <a href="ch-d-cripto.html">20</a> ]
[ <a href="ch-apend.html">21</a> ]
[ <a href="ch-impr.html">próximo</a> ]

<hr>

<h1>
Guia Foca GNU/Linux
<br>Capítulo 8 - Personalização do Sistema
</h1>

<hr>

<p>
Este capítulo ensina como personalizar algumas características de seu sistema
<code>GNU/Linux</code>.

<hr>

<a name="s-pers-varamb"></a>
<h2>8.1 Variáveis de Ambientes</h2>

<p>
É um método simples e prático que permite a especificação de opções de
configuração de programas sem precisar mexer com arquivos no disco ou opções.
Algumas variáveis do <code>GNU/Linux</code> afetam o comportamento de todo o
Sistema Operacional, como o idioma utilizado e o path .  Variáveis de ambientes
são nomes que contém algum valor e tem a forma <samp>Nome=Valor</samp>.  As
variáveis de ambiente são individuais para cada usuário do sistema ou consoles
virtuais e permanecem residentes na memória RAM até que o usuário saia do
sistema (logo-off) ou até que o sistema seja desligado.

<p>
As variáveis de ambiente são visualizadas/criadas através do comando
<code>set</code> ou <samp>echo $NOME</samp> (apenas visualiza) e exportadas
para o sistemas com o comando <samp>export NOME=VALOR</samp>.

<p>
Nos sistemas <code>Debian</code>, o local usado para especificar variáveis de
ambiente é o <code>/etc/environment</code> (veja <a
href="#s-pers-environment">Arquivo <code>/etc/environment</code>, Seção
8.8</a>).  Todas as variáveis especificadas neste arquivos serão inicializadas
e automaticamente exportadas na inicialização do sistema.

<p>
Exemplo: Para criar uma variável chamada <code>TESTE</code> que contenha o
valor <samp>123456</samp> digite: <samp>export TESTE=123456</samp>.  Agora para
ver o resultado digite: <samp>echo $TESTE</samp> ou <samp>set|grep
TESTE</samp>.  Note que o <samp>$</samp> que antecede o nome <code>TESTE</code>
serve para identificar que se trata de uma variável e não de um arquivo comum.

<hr>

<a name="s-pers-idioma"></a>
<h2>8.2 Modificando o Idioma usado em seu sistema</h2>

<p>
O idioma usado em seu sistema pode ser modificado facilmente através das
variáveis de ambiente.  Atualmente a maioria dos programas estão sendo
<em>localizados</em>.  A localização é um recurso que especifica arquivos que
contém as mensagens do programas em outros idiomas.  Você pode usar o comando
<code>locale</code> para listar as variáveis de localização do sistema e seus
respectivos valores.  As principais variáveis usadas para determinar qual
idioma os programas <samp>localizados</samp> utilizarão são:
<ul>
<li>
<code>LANG</code> - Especifica o idioma_PAIS local.  Podem ser especificados
mais de um idioma na mesma variável separando-os com <samp>:</samp>, desta
forma caso o primeiro não esteja disponível para o programa o segundo será
verificado e assim por diante.  A língua Inglesa é identificada pelo código
<samp>C</samp> e usada como padrão caso nenhum locale seja especificado.
<p>
Por exemplo: <samp>export LANG=pt_BR</samp>, <samp>export
LANG=pt_BR:pt_PT:C</samp>
</li>
<li>
<code>LC_MESSAGES</code> - Especifica o idioma que serão mostradas as mensagens
dos programas.  Seu formato é o mesmo de <code>LANG</code>.
</li>
<li>
<code>LC_ALL</code> - Configura todas as variáveis de localização de uma só
vez.  Seu formato é o mesmo de <code>LANG</code>.
</li>
</ul>

<p>
As mensagens de localização estão localizadas em arquivos individuais de cada
programa em <code>/usr/share/locale/[Idioma]/LC_MESSAGES</code> .  Elas são
geradas através de arquivos <samp>potfiles</samp> (arquivos com a extensão
<code>.po</code> ou <code>.pot</code> e são gerados catálogos de mensagens
<code>.mo</code>.  As variáveis de ambiente podem ser especificadas no arquivo
<code>/etc/environment</code> desta forma as variáveis serão carregadas toda a
vez que seu sistema for iniciado.  Você também pode especificar as variáveis de
localização em seu arquivos de inicialização <code>.bash_profile</code>,
<code>.bashrc</code> ou <code>.profile</code> assim toda a vez que entrar no
sistema, as variáveis de localização personalizadas serão carregadas.

<p>
Siga as instruções a seguir de acordo com a versão de sua distribuição
<code>Debian</code>:
<dl>
<dt>Debian 3.0</dt>
<dd>
Acrescente a linha <samp>pt_BR ISO-8859-1</samp> no arquivo
<code>/etc/locale.gen</code>, rode o utilitário <code>locale-gen</code> para
gerar os locales e acrescente as variáveis de localização no arquivo
<code>/etc/locales.def</code> seguindo a forma:
<pre>
     export LANG=pt_BR
     export LC_ALL=pt_BR
     export LC_MESSAGES=pt_BR
</pre>
<p>
Note que o arquivo <code>/etc/environment</code> também pode ser usado para tal
tarefa, mas o <code>locales.def</code> foi criado especialmente para lidar com
variáveis de localização na <code>Debian</code> 3.0.
</dd>
<dt>Debian 2.2</dt>
<dd>
Coloque estas variáveis no arquivo <code>/etc/environment</code> (veja um
exemplo deste arquivo em <a href="#s-pers-environment">Arquivo
<code>/etc/environment</code>, Seção 8.8</a>), assim toda a vez que seu sistema
for iniciado as variáveis de localização serão carregadas e exportadas para o
sistema, estando disponíveis para todos os usuários.
</dd>
</dl>

<p>
Para as mensagens e programas do X-Window usarem em seu idioma local, é preciso
colocar as variáveis no arquivo <code>~/.xserverrc</code> do diretório home de
cada usuário e dar a permissão de execução neste arquivo (<samp>chmod 755
.xserverrc</samp>).  Lembre-se de incluir o caminho completo do arquivo
executável do seu gerenciador de janelas na última linha deste arquivo (sem o
<samp>&amp;</samp> no final), caso contrário o Xserver será finalizado logo
após ler este arquivo.

<p>
Abaixo exemplos de localização com as explicações:
<ul>
<li>
<samp>export LANG=pt_BR</samp> - Usa o idioma pt_BR como língua padrão do
sistema.  Caso o idioma Portugues do Brasil não esteja disponível, C é usado
(Inglês).
</li>
<li>
<samp>export LANG=C</samp> - Usa o idioma Inglês como padrão (é a mesma coisa
de não especificar <code>LANG</code>, pois o idioma Inglês é usado como
padrão).
</li>
<li>
<samp>export LANG=pt_BR:pt_PT:es_ES:C</samp> - Usa o idioma Português do Brasil
como padrão, caso não esteja disponível usa o Português de Portugal, se não
estiver disponível usa o Espanhol e por fim o Inglês.
</li>
</ul>

<p>
É recomendável usar a variável <code>LC_ALL</code> para especificar o idioma,
desta forma todos os outras variáveis (<code>LANG, MESSAGES, LC_MONETARY,
LC_NUMERIC, LC_COLLATE, LC_CTYPE e LC_TIME</code>) serão configuradas
automaticamente.

<hr>

<a name="s-pers-alias"></a>
<h2>8.3 alias</h2>

<p>
Permite criar um apelido a um comando ou programa.  Por exemplo, se você gosta
de digitar (como eu) o comando <samp>ls --color=auto</samp> para ver uma
listagem longa e colorida, você pode usar o comando <code>alias</code> para
facilitar as coisas digitando: <samp>alias ls='ls --color=auto'</samp> (não se
esqueça da meia aspa 'para identificar o comando').  Agora quando você digitar
<samp>ls</samp>, a listagem será mostrada com cores.

<p>
Se você digitar <samp>ls -la</samp>, a opção <samp>-la</samp> será adicionada
no final da linha de comando do alias: <samp>ls --color=auto -la</samp>, e a
listagem também será mostrada em cores.

<p>
Se quiser utilizar isto toda vez que entrar no sistema, veja <a
href="#s-pers-bashprofile">Arquivo <code>.bash_profile</code>, Seção 8.5</a> e
<a href="#s-pers-bashrc">Arquivo <code>.bashrc</code>, Seção 8.6</a>.

<hr>

<a name="s-pers-profile"></a>
<h2>8.4 Arquivo <code>/etc/profile</code></h2>

<p>
Este arquivo contém comandos que são executados para <em>todos</em> os usuários
do sistema no momento do login.  Somente o usuário root pode ter permissão para
modificar este arquivo.

<p>
Este arquivo é lido antes do arquivo de configuração pessoal de cada usuário
(<code>.profile</code>(root) e <code>.bash_profile</code>).

<p>
Quando é carregado através de um shell que requer login (nome e senha), o
<code>bash</code> procura estes arquivos em seqüência e executa os comandos
contidos, caso existam:
<ol type="1" start="1" >
<li>
<code>/etc/profile</code>
</li>
<li>
<code>~/.bash_profile</code>
</li>
<li>
<code>~/.bash_login</code>
</li>
<li>
<code>~/.profile</code>
</li>
</ol>

<p>
Ele <em>ionterrompe</em> a pesquisa assim que localiza o primeiro arquivo no
diretório do usuário (usando a sequência acima).  Por exemplo, se você tem o
arquivo <code>~/.bash_login</code> e <code>~/.bash_profile</code> em seu
diretório de usuário, ele processará o <code>/etc/profile</code> e após isto o
<code>~/.bash_profile</code>, mas nunca processará o <code>~/.bash_login</code>
(a menos que o <code>~/.bash_profile</code> seja apagado ou renomeado).

<p>
Caso o <code>bash</code> seja carregado através de um shell que não requer
login (um terminal no X, por exemplo), o seguinte arquivo é executado:
<code>~/.bashrc</code>.

<p>
Observação: Nos sistemas Debian, o profile do usuário root está configurado no
arquivo <code>/root/.profile</code>.  A razão disto é porque se o
<code>bash</code> for carregado através do comando <code>sh</code>, ele fará a
inicialização clássica deste shell lendo primeiro o arquivo
<code>/etc/profile</code> e após o <code>~/.profile</code> e ignorando o
<code>.bash_profile</code> e <code>.bashrc</code> que são arquivos de
configuração usados somente pelo <code>Bash</code>.  Exemplo, inserindo a linha
<samp>mesg y</samp> no arquivo <code>/etc/profile</code> permite que todos os
usuários do sistema recebam pedidos de <code>talk</code> de outros usuários.
Caso um usuário não quiser receber pedidos de <code>talk</code>, basta somente
adicionar a linha <samp>mesg n</samp> no arquivo pessoal
<code>.bash_profile</code>.

<hr>

<a name="s-pers-bashprofile"></a>
<h2>8.5 Arquivo <code>.bash_profile</code></h2>

<p>
Este arquivo reside no diretório pessoal de cada usuário.  É executado por
shells que usam autenticação (nome e senha).  <code>.bash_profile</code> contém
comandos que são executados para o usuário no momento do login no sistema após
o <code>/etc/profile</code>.  Note que este é um arquivo oculto pois tem um
&quot;.&quot; no inicio do nome.

<p>
Por exemplo colocando a linha: <samp>alias ls='ls --colors=auto'</samp> no
<code>.bash_profile</code>, cria um apelido para o comando <code>ls
--colors=auto</code> usando <code>ls</code>, assim toda vez que você digitar
<samp>ls</samp> será mostrada a listagem colorida.

<hr>

<a name="s-pers-bashrc"></a>
<h2>8.6 Arquivo <code>.bashrc</code></h2>

<p>
Possui as mesmas características do <code>.bash_profile</code> mas é executado
por shells que não requerem autenticação (como uma seção de terminal no X).

<p>
Os comandos deste arquivo são executados no momento que o usuário inicia um
shell com as características acima.  Note que este é um arquivo oculto pois tem
um &quot;.&quot; no inicio do nome.

<hr>

<a name="s-pers-hushlogin"></a>
<h2>8.7 Arquivo <code>.hushlogin</code></h2>

<p>
Deve ser colocado no diretório pessoal do usuário.  Este arquivo faz o
<code>bash</code> pular as mensagens do <code>/etc/motd</code>, número de
e-mails, etc.  Exibindo imediatamente o aviso de comando após a digitação da
senha.

<hr>

<a name="s-pers-environment"></a>
<h2>8.8 Arquivo <code>/etc/environment</code></h2>

<p>
Armazena as variáveis de ambiente que são exportadas para todo o sistema.  Uma
variável de ambiente controla o comportamento de um programa, registram
detalhes úteis durante a seção do usuário no sistema, especificam o idioma das
mensagens do sistema, etc.

<p>
Exemplo do conteúdo de um arquivo <code>/etc/environment</code>:

<pre>
     LANG=pt_BR
     LC_ALL=pt_BR
     LC_MESSAGES=pt_BR
</pre>

<hr>

<a name="s-pers-conf-skel"></a>
<h2>8.9 Diretório <code>/etc/skel</code></h2>

<p>
Este diretório contém os modelos de arquivos <code>.bash_profile</code> e
<code>.bashrc</code> que serão copiados para o diretório pessoal dos usuários
no momento que for criada uma conta no sistema.  Desta forma você não precisará
configurar estes arquivos separadamente para cada usuário.

<hr>

[ <a href="ch-deb.html">anterior</a> ]
[ <a href="index.html#contents">Conteúdo</a> ]
[ <a href="ch-intro.html">1</a> ]
[ <a href="ch-bas.html">2</a> ]
[ <a href="ch-hardw.html">3</a> ]
[ <a href="ch-rede.html">4</a> ]
[ <a href="ch-cfgrede.html">5</a> ]
[ <a href="ch-log.html">6</a> ]
[ <a href="ch-deb.html">7</a> ]
[ 8 ]
[ <a href="ch-impr.html">9</a> ]
[ <a href="ch-fw-iptables.html">10</a> ]
[ <a href="ch-d-contas.html">11</a> ]
[ <a href="ch-s-apache.html">12</a> ]
[ <a href="ch-s-ident.html">13</a> ]
[ <a href="ch-s-telnet.html">14</a> ]
[ <a href="ch-s-ssh.html">15</a> ]
[ <a href="ch-s-pop3.html">16</a> ]
[ <a href="ch-s-cvs.html">17</a> ]
[ <a href="ch-s-samba.html">18</a> ]
[ <a href="ch-d-restr.html">19</a> ]
[ <a href="ch-d-cripto.html">20</a> ]
[ <a href="ch-apend.html">21</a> ]
[ <a href="ch-impr.html">próximo</a> ]

<hr>

<p>
Guia Foca GNU/Linux

<address>
Versão 6.40 - segunda, 30 de outubro de 2006<br>
<br>
Gleydson Mazioli da Silva <code><a href="mailto:gleydson@guiafoca.org">gleydson@guiafoca.org</a></code><br>
<br>
</address>

<hr>

</body>

</html>

